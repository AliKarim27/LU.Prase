@using LU.Prase.Entities.Enums
@using LU.Prase.Sections.Dto
@using LU.Prase.Web.Models.Roles
@using LU.Prase.Web.Models.Common.Modals
@model SectionDto
@{
    Layout = null;
}
@await Html.PartialAsync("~/Views/Shared/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(L("EditRole")))
<form name="RoleEditForm" role="form" class="form-horizontal">
    <input type="hidden" name="Id" value="@Model.Id" />
    <div class="modal-body">
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="name">@L("Name")</label>
            <div class="col-md-9">
                <input id="name" class="form-control" type="text" name="Name" value="@Model.Name" required maxlength="32" minlength="2">
            </div>
        </div>
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="description">Description</label>
            <div class="col-md-9">
                <input id="description" type="text" class="form-control" name="Description" value="@Model.Description" required maxlength="32" minlength="2">
            </div>
        </div>
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="DepartementId">Departement</label>
            <select name="DepartementId" id="DepartementId-Edit" class="form-control">
                @foreach (var departement in Model.AllDepartements)
                {
                    if (Model.Departement.Id == departement.Id)
                    {
                        <option value="@departement.Id" selected>
                            @departement.Name
                        </option>
                    }
                    else
                    {
                        <option value="@departement.Id">
                            @departement.Name
                        </option>
                    }
                }
            </select>
        </div>
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="Responsibles">Responsibles</label>
            <select name="Responsibles-Edit" id="Responsibles-Edit" class="form-control" multiple>
                @foreach (var responsible in Model.AllResponsibles)
                {
                    if (Model.Responsibles.Select(x => x.Id).Contains(responsible.Id))
                    {
                        <option value="@responsible.Id" selected>
                            @responsible.UserName
                        </option>
                    }
                    else
                    {
                        <option value="@responsible.Id">
                            @responsible.UserName
                        </option>
                    }
                }
            </select>
        </div>
    </div>
    @await Html.PartialAsync("~/Views/Shared/Modals/_ModalFooterWithSaveAndCancel.cshtml")
</form>

<script src="~/view-resources/Views/Sections/_EditModal.js" asp-append-version="true"></script>
